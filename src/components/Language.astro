<div class="nav-wrapper">
  <div class="sl-nav">
    <ul>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="20px" height="20px"><rect fill="none"/><circle cx="128" cy="128" r="96" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"/><line x1="37.5" y1="96" x2="218.5" y2="96" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"/><line x1="37.5" y1="160" x2="218.5" y2="160" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"/><ellipse cx="128" cy="128" rx="40" ry="93.4" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"/></svg>
      <li><b class="text" id="main-lang"></b><i class="fa fa-angle-down" aria-hidden="true"></i>
        <div class="triangle"></div>
        <ul>
          <li id="de"><i class="sl-flag flag-de"></i> <span class="active">DE</span></li>
          <li id="en"><i class="sl-flag flag-usa"></i> <span>EN</span></li>
        </ul>
      </li>
    </ul>
  </div>
</div>

<script>

  const de = document.getElementById('de');
  const en = document.getElementById('en');
  const mainLang = document.getElementById('main-lang');
  let newUrl = ''
  const { location: { protocol, host, pathname }} = window;
  const lang = pathname.split('/').filter(e => e)[0] || 'en';
  let path = pathname;
  mainLang?.classList.add(`text-${lang}`);
  de?.addEventListener("click", () => {
    mainLang?.classList.remove("text-en");
    mainLang?.classList.add("text-de");
    if (lang === 'en' && pathname.length > 1) {
      path = pathname.replace('en', 'de');
    } else if (lang === 'de') {
      path = pathname;
    } else {
      path = `${path}de`;
    }
    newUrl = `${protocol}//${host}${path}`;
    window.location.href = newUrl;
  });
  en?.addEventListener("click", () => {
    mainLang?.classList.remove("text-de");
    mainLang?.classList.add("text-en");
    if (lang === 'de' && pathname.length > 1) {
      path = pathname.replace('de', 'en');
    } else if (lang === 'en' && pathname.includes('en')) {
      path = pathname;
    } else {
      path = `${path}en`;
    }
    newUrl = `${protocol}//${host}${path}`;
    window.location.href = newUrl;
  });
  
</script>
<style>
  .text:after {
    content: '';
    font-family: 'Cabin', 'Poppins', sans-serif;
    font-weight: normal;
  }
  .nav-wrapper {
    text-align: center;
  }
  @media only screen and (min-width: 782px) {
    .nav-wrapper {
      margin-right: 2rem;
    }
  }
  .sl-nav ul {
    margin:0;
    padding:0;
    list-style: none;
    position: relative;
    display: flex;
    justify-content: flex-end;
    align-items: center;
  }
  .sl-nav li {
    cursor: pointer;
    padding-left: 0.5px;
  }
  .sl-nav li b {
    padding: 0 .1rem;
  }
  .sl-nav li ul {
    display: none;
  }
  .sl-nav li:hover ul {
    position: absolute;
    top:29px;
    right:-15px;
    display: block;
    background: #fff;
    width: 120px;
    padding-top: 0px;
    z-index: 1;
    border-radius:5px;
    box-shadow: 0px 0px 20px rgba(0,0,0,0.2);
  }
  .sl-nav li:hover .triangle {
    position: absolute;
    top: 15px;
    right: -10px;
    z-index:10;
    height: 14px;
    overflow:hidden;
    width: 30px;
    background: transparent;
  }
  .sl-nav li:hover .triangle:after {
    content: '';
    display: block;
    z-index: 20;
    width: 15px;
    transform: rotate(45deg) translateY(0px) translatex(10px);
    height: 15px;
    background: #fff;
    border-radius:2px 0px 0px 0px;
    box-shadow: 0px 0px 20px rgba(0,0,0,0.2);
  }
  .sl-nav li ul li {
    position: relative;
    text-align: left;
    background: transparent;
    padding: 15px 15px;
    padding-bottom:0;
    z-index: 2;
    font-size: 15px;
    color: #3c3c3c;
  }
  .sl-nav li ul li:last-of-type {
    padding-bottom: 15px;
  }
  .sl-nav li ul li span {
    padding-left: 5px;
  }
  .sl-nav li ul li span:hover, .sl-nav li ul li span.active {
    color: #146c78;
  }
  .sl-flag {
    display: inline-block;
    box-shadow: 0px 0px 3px rgba(0,0,0,0.4);
    width: 15px;
    height: 15px;
    background: #aaa;
    border-radius: 50%;
    position: relative;
    top: 2px;
    overflow: hidden;
  }
  .flag-de {
  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAAAPUlEQVQ4T+3HMQ0AIBTE0NOHM8x9B7hgh71bIWGieUvze1m7kHGBr/AVvsJX+EpmP5dV5/gKX+ErfIUvVDYcX2NMxQC8PAAAAABJRU5ErkJggg==');
    background-size: cover;
    background-position: center center;
  }
  .flag-usa {
    background-size: cover;
    background-position: center center;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAABhUlEQVQ4T2Ows82PjGixsc4LD2tysC/09Kjw8622tyuICG8u0w/cpGSCBzF4e1VmZkzw9anOzOj38a4KCW4IC22ECHYk1l9tn4gHMeTlTnZxLikvm+XiUpKW2hvgX+vnV5OVOQEoOGfOtv94AYOzU3Fd7XxHh6Lq6rlurqUx0W0J8Z1AnbW18yotonaYuOJBDBXls4A+bGpaBCTz86YEBtQCvVBSPAPIbY0oP1/aiAcxABU1Ny+2tclvbFjo5FgUF9uenNwNDLnmpkWEnV1TPRcY1O1tS4H6i4umA/0MDK2K8tlAwRqHpP1uoXgQKKraWpcClTY3LQZaCLQ5NaUX5OaWJY3++SeTC/AgBmA4AXUClUJs9ver8fKsAAYEUJCws4G21dXNB1oFdD/Qz8DQTk4C+bm2dn6DZ9bRiDQ8iAEYt8CoBpK5YBIYw0AEEZwSXX4oMB4PYoC6gCzAcDqrjGzEsMfen2xEmbMv1rSTjRi26dqRjShz9o2+6WQjBrSShQSkZAIADvW/HLrLY6cAAAAASUVORK5CYII=');
  }
  .text-de:after {
    content: 'DE';
  }
  .text-en:after {
    content: 'EN';
  }
</style>